{% extends "basic/base.html" %}

{% block style %}
    {{ block.super }}
    <link rel=Stylesheet href="/static/styles/products/list_products.css" type="text/css">
{% endblock %}

{% block content %}

    <h2> Carrinho de Compras </h2>
    
    <hr />

    <form action="{{ request.path }}" method="POST">
        {% csrf_token %}
        <table align="center" cellpadding="10" border="0">
            {% if objects and not user.is_staff %}
                <tr align="center" style="color: #00133f; background: #6f81ac;">
                    <th> Nome </th>
                    <th> Preço </th>
                    <th> Em estoque </th>
                    <th> Tipo </th>
                    <th> Categoria </th>
                    <th> Marca </th>
                    <th> Quantidade </th>
                    <th> Remover </th>
                </tr>        
            
                {% for obj, qnt in objects %}
                    <tr align="center" style="color: #01309b; background: #dadee5;">
                        <td> {{ obj.name }} </td>
                        <td> {{ obj.price }} </td>
                        <td> {{ obj.instock }} </td>
                        <td> {{ obj.ptype.name }} </td>
                        <td> {{ obj.ptype.category.name }} </td>
                        <td> {{ obj.brand.name }} </td>
                        <td> <input type="textfield" name="checkbox_qtd_{{obj.id}}" value="{{qnt}}"/> </td>
                        <td> <input type="checkbox" name="checkbox_rem_{{obj.id}}" /> </td>
                    </tr>
                {% endfor %} 
                <tr>
                    <td colspan="8"> <input type="submit" name="alterar" value="Alterar" /> </td>
                </tr>
            {% else %}

                {% if user.is_staff %}
                    <strong> Você não deveria estar aqui... </strong>
                {% else %}
                    <strong> Carrinho está vazio! </strong>
                {% endif %}
            {% endif %}
        </table>
    </form>
{% endblock %}
